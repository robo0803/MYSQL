# 트랜잭션
- 복수의 sql문을 수행하는 도중에 장애가 발생했을 때 장애에 대응할 수 있도록 하는 기능
- 기본적으로 sql의 수행모드는 autocommit모드(줄단위 커밋모드)

### acid특성
- 원자성 : all-or-nothing , commit/rollback
- 일관성 : 트랜잭션 전후 데이터 손상 받으면 안됨 / 같은 데이터가 다른 값을 가지면 안됨
- 고립성/격리수준 : 여러 개의 트랜잭션이 수행될 때 성능과 데이터 안정성간의 trade-off
- 지속성 : 트랜잭션이 종료된 이후에도 데이터에 문제가 없어야 됨

# 락
- 공유자원에 대해 여러 개의 트랜잭션이 접근하려고 경쟁하려고 할 때 제어하는 방법
  - 동시성제어라고 하고 보통 lock으로 해결
  - 프로그래밍에서는 동기화라고 함
- 일관성과 무결성을 지키기 위해 적용

### lock granularity
- 테이블단위 락 : 동일한 테이블을 다른 트랜잭션이 사용하고 있으면 접근 금지 / myISAM
- 줄단위 락 : 동일한 줄만 접근 금지, 테이블 락에 비해 높은 성능 : INNODB

# 격리
## 트랜잭션의 격리수준
- 트랜잭션에 일관성 없는 데이터를 허용하는 레벨

### Read Uncommitted 
- 트랜잭션이 처리되는 도중에 다른 트랜잭션이 해당 데이터를 읽기를 허용
- 성능은 높지만 데이터 안정성 떨어짐

### Read Committed
- 트랜잭션이 끝난 이후에만 접근하도록 허용

### Repeatable Read
- 다른 트랜잭션이 업데이트하는 것은 금지하지만 레코드 추가하는 것은 허용하는 방식

### Serializable
- 트랜잭션이 동시에 수행되는 것이 금지되고 순차적으로 수행됨

